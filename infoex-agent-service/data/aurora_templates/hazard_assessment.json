{
  "_comment": "InfoEx Hazard Assessment Payload - Copy/Paste Ready",
  "_endpoint": "POST /observation/hazardAssessment",
  "_description": "Submit hazard assessment observation to InfoEx API. Complex observation with avalanche problems and hazard ratings by elevation band.",
  "_exporter_note": "AURORA EXPORTER: Ensure required fields (obDate, state) are populated. Use confirmed values from propose→confirm workflow. Send hazardRatings and avalancheProblems as arrays matching InfoEx schema structure.",
  
  "obDate": "10/07/2025",
  "_obDate_constraint": "REQUIRED. Date format: MM/DD/YYYY. Must be valid calendar date, typically within 7 days of current date for operational reports.",
  
  "obTime": "14:00",
  "_obTime_constraint": "REQUIRED. String. 24-hour format HH:MM. Time when hazard assessment was made. Range: 00:00 to 23:59.",
  
  "assessmentType": "Nowcast",
  "_assessmentType_constraint": "REQUIRED. String enum: 'Forecast' = Forecast assessment, 'Nowcast' = Current conditions assessment. Type of hazard assessment being submitted.",
  
  "usersPresent": ["4a9c17c0-e86b-4124-9a94-db8fbcd81d7c"],
  "_usersPresent_constraint": "REQUIRED. Array of strings. User UUIDs of people present during assessment. Must be valid user UUIDs in the system. At least one user required.",
  
  "avalancheProblems": [
    {
      "obDate": "10/07/2025",
      "_obDate_constraint": "REQUIRED. Date format: MM/DD/YYYY. Must match main assessment date.",
      
      "character": "STORM_SLAB",
      "_character_constraint": "REQUIRED. String enum: 'LOOSE_DRY_AVALANCHE','LOOSE_WET_AVALANCHE','STORM_SLAB','WIND_SLAB','PERSISTENT_SLAB','DEEP_PERSISTENT_SLAB','WET_SLAB','GLIDE','CORNICE','UNKNOWN'. Avalanche problem type from dropdown.",
      
      "colour": "#FFC911",
      "_colour_constraint": "Optional. String. Hex color code for problem visualization. COMPLETE COLOR MAPPING: STORM_SLAB=#FFC911 (yellow/orange), WIND_SLAB=#8ECF1B (green), PERSISTENT_SLAB=#FF6E53 (red/orange), DEEP_PERSISTENT_SLAB=#F30030 (red), WET_SLAB=#35A7FF (blue), LOOSE_DRY_AVALANCHE=#D999FF (purple), LOOSE_WET_AVALANCHE=#35CFCE (cyan), GLIDE=#7E8BB4 (purple/gray), CORNICE=#05D265 (bright green), UNKNOWN=#CA8B60 (brown). Colors from InfoEx constants for consistent UI display.",
      
      "location": "{\"Alpine\":[\"N\",\"NE\"],\"Treeline\":[\"N\"],\"Below Treeline\":[\"N\"]}",
      "_location_constraint": "REQUIRED. JSON string representing aspect/elevation rose data. Format: {\"Alpine\":[aspects],\"Treeline\":[aspects],\"Below Treeline\":[aspects]}. Aspects: 'N','NE','E','SE','S','SW','W','NW'. Corresponds to circular aspect selector in UI.",
      
      "hazardChart": "{\"x\":{\"typical\":1,\"min\":0,\"max\":2},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}",
      "_hazardChart_constraint": "REQUIRED. JSON string with x/y coordinates on Conceptual Model of Avalanche Hazard chart. CALCULATION ALGORITHM: X-axis = (avalanche_size - 1) * 2 (Size1=0, Size1.5=1, Size2=2, Size2.5=3, Size3=4, Size3.5=5, Size4=6, Size4.5=7, Size5=8). Y-axis from Distribution+Sensitivity matrix: Unlikely=0, Possible=2, Likely=4, Very Likely=6, Almost Certain=8. Typical = exact position (small black box), min/max = uncertainty range (outer colored box). Moderate confidence = ±1 unit range.",
      
      "distribution": "Specific",
      "_distribution_constraint": "REQUIRED. String enum: 'Isolated','Specific','Widespread'. Spatial distribution of avalanche problem. Used with sensitivity to calculate likelihood on hazard chart Y-axis.",
      
      "sensitivity": "Reactive",
      "_sensitivity_constraint": "REQUIRED. String enum: 'Unreactive','Stubborn','Reactive','Touchy'. Sensitivity to triggers. Used with distribution to calculate likelihood: Specific+Reactive = Likely (Y-axis position 3-4).",
      
      "typicalSize": "Size15",
      "_typicalSize_constraint": "REQUIRED. String enum: 'Size1','Size15','Size2','Size25','Size3','Size35','Size4','Size45','Size5'. Expected avalanche size, corresponds to X-axis position on hazard chart (Size15 = X-axis 1-2 range).",
      
      "comment": "Storm slabs on north aspects due to recent loading from 30cm new snow. Most reactive above treeline on wind-loaded slopes.",
      "_comment_constraint": "Optional. String. Free-form description of avalanche problem. Max 4096 characters as shown in UI. Include location details, formation process, and specific concerns.",
      
      "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
      "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
      "state": "IN_REVIEW"
    },
    {
      "obDate": "10/07/2025",
      "_obDate_constraint": "REQUIRED. Date format: MM/DD/YYYY. Must match main assessment date.",
      
      "character": "WIND_SLAB",
      "_character_constraint": "REQUIRED. String enum: Same as Storm Slab constraint. Avalanche problem type from dropdown.",
      
      "colour": "#8ECF1B",
      "_colour_constraint": "Optional. String. Hex color code for Wind Slab visualization. Green color from InfoEx constants.",
      
      "location": "{\"Alpine\":[\"N\",\"E\"],\"Treeline\":[\"N\",\"E\"],\"Below Treeline\":[]}",
      "_location_constraint": "REQUIRED. JSON string representing aspect/elevation rose data. Wind slabs typically on lee aspects (N,E from south winds).",
      
      "hazardChart": "{\"x\":{\"typical\":2,\"min\":1,\"max\":3},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}",
      "_hazardChart_constraint": "REQUIRED. JSON string with x/y coordinates. Wind Slab positioned at X=2 (Size 1.5-2 range), Y=4 (Likely), with moderate confidence uncertainty range.",
      
      "distribution": "Specific",
      "_distribution_constraint": "REQUIRED. String enum: Same as Storm Slab constraint. Specific terrain features for wind slabs.",
      
      "sensitivity": "Reactive", 
      "_sensitivity_constraint": "REQUIRED. String enum: Same as Storm Slab constraint. Reactive sensitivity for wind slabs.",
      
      "typicalSize": "Size15",
      "_typicalSize_constraint": "REQUIRED. String enum: Same as Storm Slab constraint. Size 1.5 expected for wind slabs.",
      
      "comment": "Wind slabs from strong south winds at ridge tops. Fresh loading on north and east aspects.",
      "_comment_constraint": "Optional. String. Free-form description of wind slab problem. Max 4096 characters as shown in UI.",
      
      "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
      "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
      "state": "IN_REVIEW"
    }
  ],
  "_avalancheProblems_constraint": "REQUIRED. Array of AvalancheProblemDTO objects. Each problem represents an avalanche problem type with its spatial distribution, sensitivity, and expected size. Maximum 3 problems typically. Each problem appears as a collapsible section in UI with aspect selector, dropdowns, and hazard chart.",
  
  "_likelihood_matrix_reference": {
    "description": "Distribution + Sensitivity → Likelihood calculation matrix from Conceptual Model of Avalanche Hazard",
    "matrix": {
      "Widespread + Unreactive": "Unlikely (Y=0)",
      "Widespread + Stubborn": "Possible (Y=2)", 
      "Widespread + Reactive": "Possible (Y=2)",
      "Widespread + Touchy": "Likely (Y=4)",
      "Specific + Unreactive": "Unlikely (Y=0)",
      "Specific + Stubborn": "Possible (Y=2)",
      "Specific + Reactive": "Likely (Y=4)",
      "Specific + Touchy": "Very Likely (Y=6)",
      "Isolated + Unreactive": "Unlikely (Y=0)",
      "Isolated + Stubborn": "Unlikely (Y=0)",
      "Isolated + Reactive": "Possible (Y=2)",
      "Isolated + Touchy": "Likely (Y=4)"
    }
  },
  
  "_size_to_x_axis_mapping": {
    "Size1": 0, "Size15": 1, "Size2": 2, "Size25": 3, "Size3": 4, 
    "Size35": 5, "Size4": 6, "Size45": 7, "Size5": 8
  },
  
  "_confidence_to_uncertainty": {
    "High": "min=max=typical (no uncertainty)",
    "Moderate": "min=typical-1, max=typical+1 (±1 unit)",
    "Low": "min=typical-2, max=typical+2 (±2 units)"
  },
  
  "hazardRatings": [
    {
      "elevationBand": "Alpine",
      "_elevationBand_constraint": "REQUIRED. String enum: 'Alpine','Treeline','Below Treeline','All'. Elevation band for hazard rating. Must include all three bands (Alpine, Treeline, Below Treeline) for complete assessment.",
      
      "hazardRating": "3",
      "_hazardRating_constraint": "REQUIRED. String enum: '1' = Low (Green), '2' = Moderate (Yellow), '3' = Considerable (Orange), '4' = High (Red), '5' = Extreme (Black), 'n/a' = Not applicable. Hazard level for this elevation band based on avalanche problems and conditions.",
      
      "comment": "Considerable hazard due to storm and wind slabs. Avoid steep wind-loaded slopes.",
      "_comment_constraint": "Optional. String. Explanation of hazard rating for this elevation band. Include reasoning, specific concerns, and travel advice.",
      
      "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
      "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
      "obDate": "10/07/2025",
      "state": "IN_REVIEW"
    },
    {
      "elevationBand": "Treeline",
      "hazardRating": "2", 
      "comment": "Moderate hazard with specific terrain concerns. Storm slabs possible on sheltered slopes.",
      "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
      "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
      "obDate": "10/07/2025",
      "state": "IN_REVIEW"
    },
    {
      "elevationBand": "Below Treeline",
      "hazardRating": "2",
      "comment": "Moderate hazard below treeline. Storm slabs possible but less reactive due to anchoring.",
      "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
      "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
      "obDate": "10/07/2025",
      "state": "IN_REVIEW"
    }
  ],
  "_hazardRatings_constraint": "REQUIRED. Array of HazardRatingDTO objects. Must include all three elevation bands for complete assessment. Each elevation band has its own hazard chart and importance ranking shown in UI. Ratings typically decrease with elevation (Alpine ≥ Treeline ≥ Below Treeline).",
  
  "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
  "_locationUUIDs_constraint": "REQUIRED. Array of strings. Valid location UUIDs from your operation where hazard assessment applies. Must exist in InfoEx location catalog. Critical for API integration.",
  
  "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
  "_operationUUID_constraint": "REQUIRED. String. Your operation UUID. Must match the operation header value. Critical for API integration and data isolation.",
  
  "state": "IN_REVIEW",
  "_state_constraint": "REQUIRED. String enum: 'IN_REVIEW' = Needs review before final submission, 'SUBMITTED' = Finalized observation. Use IN_REVIEW for testing, SUBMITTED for production.",
  
  "shareLevel": "PRIVATE",
  "_shareLevel_constraint": "Optional. String enum: 'EXCHANGE' = Share with InfoEx network, 'PRIVATE' = Keep within organization only. Defaults to organization settings if not specified.",
  
  "_enum_constraints": {
    "assessmentType": ["Forecast", "Nowcast"],
    "character": ["LOOSE_DRY_AVALANCHE", "LOOSE_WET_AVALANCHE", "STORM_SLAB", "WIND_SLAB", "PERSISTENT_SLAB", "DEEP_PERSISTENT_SLAB", "WET_SLAB", "GLIDE", "CORNICE", "UNKNOWN"],
    "distribution": ["Isolated", "Specific", "Widespread"],
    "sensitivity": ["Unreactive", "Stubborn", "Reactive", "Touchy"],
    "typicalSize": ["Size1", "Size15", "Size2", "Size25", "Size3", "Size35", "Size4", "Size45", "Size5"],
    "elevationBand": ["Alpine", "Treeline", "Below Treeline", "All"],
    "hazardRating": ["1", "2", "3", "4", "5", "n/a"],
    "state": ["IN_REVIEW", "SUBMITTED"],
    "shareLevel": ["EXCHANGE", "PRIVATE"],
    "failurePlane": ["Non-persistent"]
  },
  
  "_optional_fields_not_included": {
    "attachments": "Array of attachment objects for photos/files",
    "workflowExecutionUUID": "String UUID for workflow association",
    "createUserUUID": "String UUID of creating user",
    "reviewUserUUID": "String UUID of reviewing user",
    "submitUserUUID": "String UUID of submitting user",
    "pwlUUIDs": "Array of Persistent Weak Layer UUIDs",
    "avalancheProblemPWLs": "Array of AvalancheProblemPWLDTO objects for PWL associations",
    "hazardChart": "String hazard chart reference",
    "colour": "String color code for visualization",
    "depthMin": "Integer minimum depth for problems",
    "depthMax": "Integer maximum depth for problems", 
    "importance": "String importance level",
    "locationGroupUUID": "String location group UUID",
    "typicalDepth": "String typical depth description",
    "stabilityRating": "String stability rating for hazard ratings",
    "stabilityConfidence": "String confidence in stability rating",
    "hazardConfidence": "String confidence in hazard rating",
    "confidence": "String general confidence level",
    "avProblemsImportance": "Array of AvalancheProblemImportanceDTO objects",
    "avProblems": "Array of integers for problem references",
    "problemImportanceMap": "Object mapping problems to importance",
    "caamlGroupUUID": "String CAAML group UUID",
    "uuid": "String UUID (auto-generated if not provided)"
  },

  "_three_tier_approach": {
    "description": "Aurora uses a three-tier approach for API payload construction",
    
    "tier_1_api_required": {
      "description": "Minimum fields required for successful API submission",
      "fields": ["obDate", "obTime", "assessmentType", "usersPresent", "avalancheProblems", "hazardRatings", "locationUUIDs", "operationUUID", "state"],
      "notes": "These fields are absolutely required by the InfoEx API - submission will fail without them"
    },
    
    "tier_2_aurora_ideal": {
      "description": "Fields Aurora Backcountry considers essential for complete operational reports",
      "avalanche_problem_fields": ["obDate", "character", "colour", "location", "hazardChart", "distribution", "sensitivity", "typicalSize", "depthMin", "depthMax", "importance", "comment", "locationUUIDs", "operationUUID", "state"],
      "hazard_rating_fields": ["elevationBand", "hazardRating", "confidence", "hazardConfidence", "stabilityRating", "stabilityConfidence", "comment", "locationUUIDs", "operationUUID", "obDate", "state"],
      "main_assessment_fields": ["shareLevel"],
      "notes": "Aurora requires: 1-3 avalanche problems in order of importance (most concerning first), confidence levels per elevation band, typical depth ranges for problems, elevation-specific comments that can be viewed by clicking elevation band tabs in UI"
    },
    
    "tier_3_optional_bonus": {
      "description": "Additional fields that can enhance reports but are not essential",
      "fields": ["attachments", "workflowExecutionUUID", "createUserUUID", "reviewUserUUID", "submitUserUUID", "pwlUUIDs", "avalancheProblemPWLs", "depthMin", "depthMax", "importance", "locationGroupUUID", "typicalDepth", "stabilityRating", "stabilityConfidence", "hazardConfidence", "avProblemsImportance", "avProblems", "problemImportanceMap", "caamlGroupUUID", "uuid"],
      "notes": "Include these fields only when specifically relevant or when users provide detailed technical information"
    }
  },

  "_payload_examples": "=== COPY/PASTE READY PAYLOADS ===",
  
  "AURORA_IDEAL_PAYLOAD": {
    "obDate": "10/07/2025",
    "obTime": "14:00",
    "assessmentType": "Nowcast",
    "usersPresent": ["4a9c17c0-e86b-4124-9a94-db8fbcd81d7c"],
    "avalancheProblems": [
      {
        "obDate": "10/07/2025",
        "character": "STORM_SLAB",
        "colour": "#FFC911",
        "location": "{\"Alpine\":[\"N\",\"NE\"],\"Treeline\":[\"N\"],\"Below Treeline\":[\"N\"]}",
        "hazardChart": "{\"x\":{\"typical\":1,\"min\":0,\"max\":2},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}",
        "distribution": "Specific",
        "sensitivity": "Reactive",
        "typicalSize": "Size15",
        "depthMin": 30,
        "depthMax": 50,
        "importance": "1",
        "comment": "Storm slabs on north aspects due to recent loading from 30cm new snow. Most reactive above treeline on wind-loaded slopes. Typical depth 30-50cm.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "state": "IN_REVIEW"
      },
      {
        "obDate": "10/07/2025",
        "character": "WIND_SLAB",
        "colour": "#8ECF1B",
        "location": "{\"Alpine\":[\"N\",\"E\"],\"Treeline\":[\"N\",\"E\"],\"Below Treeline\":[]}",
        "hazardChart": "{\"x\":{\"typical\":2,\"min\":1,\"max\":3},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}",
        "distribution": "Specific",
        "sensitivity": "Reactive",
        "typicalSize": "Size15",
        "depthMin": 20,
        "depthMax": 40,
        "importance": "2",
        "comment": "Wind slabs from strong south winds at ridge tops. Fresh loading on north and east aspects. Typical depth 20-40cm.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "state": "IN_REVIEW"
      }
    ],
    "hazardRatings": [
      {
        "elevationBand": "Alpine",
        "hazardRating": "3",
        "confidence": "High",
        "hazardConfidence": "High",
        "stabilityRating": "Poor",
        "stabilityConfidence": "High",
        "comment": "Considerable hazard due to storm and wind slabs. Avoid steep wind-loaded slopes above treeline.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      },
      {
        "elevationBand": "Treeline",
        "hazardRating": "2",
        "confidence": "High",
        "hazardConfidence": "High",
        "stabilityRating": "Fair",
        "stabilityConfidence": "High",
        "comment": "Moderate hazard with specific terrain concerns. Storm slabs possible on sheltered slopes at treeline.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      },
      {
        "elevationBand": "Below Treeline",
        "hazardRating": "2",
        "confidence": "High",
        "hazardConfidence": "High",
        "stabilityRating": "Good",
        "stabilityConfidence": "High",
        "comment": "Moderate hazard below treeline. Storm slabs possible but less reactive due to forest anchoring.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      }
    ],
    "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
    "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
    "state": "IN_REVIEW",
    "shareLevel": "PRIVATE"
  },
  
  "COMPREHENSIVE_PAYLOAD": {
    "obDate": "10/07/2025",
    "obTime": "14:00",
    "assessmentType": "Nowcast",
    "usersPresent": ["4a9c17c0-e86b-4124-9a94-db8fbcd81d7c"],
    "avalancheProblems": [
      {
        "obDate": "10/07/2025",
        "character": "STORM_SLAB",
        "colour": "#FFC911",
        "location": "{\"Alpine\":[\"N\",\"NE\"],\"Treeline\":[\"N\"],\"Below Treeline\":[\"N\"]}",
        "hazardChart": "{\"x\":{\"typical\":1,\"min\":0,\"max\":2},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}",
        "distribution": "Specific",
        "sensitivity": "Reactive",
        "typicalSize": "Size15",
        "comment": "Storm slabs on north aspects due to recent loading from 30cm new snow. Most reactive above treeline on wind-loaded slopes.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "state": "IN_REVIEW"
      },
      {
        "obDate": "10/07/2025",
        "character": "WIND_SLAB",
        "colour": "#8ECF1B",
        "location": "{\"Alpine\":[\"N\",\"E\"],\"Treeline\":[\"N\",\"E\"],\"Below Treeline\":[]}",
        "hazardChart": "{\"x\":{\"typical\":2,\"min\":1,\"max\":3},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}",
        "distribution": "Specific",
        "sensitivity": "Reactive", 
        "typicalSize": "Size15",
        "comment": "Wind slabs from strong south winds at ridge tops. Fresh loading on north and east aspects.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "state": "IN_REVIEW"
      }
    ],
    "hazardRatings": [
      {
        "elevationBand": "Alpine",
        "hazardRating": "3",
        "comment": "Considerable hazard due to storm and wind slabs. Avoid steep wind-loaded slopes.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      },
      {
        "elevationBand": "Treeline",
        "hazardRating": "2", 
        "comment": "Moderate hazard with specific terrain concerns. Storm slabs possible on sheltered slopes.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      },
      {
        "elevationBand": "Below Treeline",
        "hazardRating": "2",
        "comment": "Moderate hazard below treeline. Storm slabs possible but less reactive due to anchoring.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      }
    ],
    "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
    "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
    "state": "IN_REVIEW",
    "shareLevel": "PRIVATE"
  },
  
  "COMPREHENSIVE_PAYLOAD": {
    "obDate": "10/07/2025",
    "obTime": "14:00",
    "assessmentType": "Nowcast",
    "usersPresent": ["4a9c17c0-e86b-4124-9a94-db8fbcd81d7c"],
    "avalancheProblems": [
      {
        "obDate": "10/07/2025",
        "character": "STORM_SLAB",
        "colour": "#FFC911",
        "location": "{\"Alpine\":[\"N\",\"NE\"],\"Treeline\":[\"N\"],\"Below Treeline\":[\"N\"]}",
        "hazardChart": "{\"x\":{\"typical\":1,\"min\":0,\"max\":2},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}",
        "distribution": "Specific",
        "sensitivity": "Reactive",
        "typicalSize": "Size15",
        "depthMin": 30,
        "depthMax": 50,
        "importance": "1",
        "typicalDepth": "30-50cm storm slab on surface hoar",
        "comment": "Storm slabs on north aspects due to recent loading from 30cm new snow. Most reactive above treeline on wind-loaded slopes. Typical depth 30-50cm.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "state": "IN_REVIEW"
      },
      {
        "obDate": "10/07/2025",
        "character": "WIND_SLAB",
        "colour": "#8ECF1B",
        "location": "{\"Alpine\":[\"N\",\"E\"],\"Treeline\":[\"N\",\"E\"],\"Below Treeline\":[]}",
        "hazardChart": "{\"x\":{\"typical\":2,\"min\":1,\"max\":3},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}",
        "distribution": "Specific",
        "sensitivity": "Reactive",
        "typicalSize": "Size15",
        "depthMin": 20,
        "depthMax": 40,
        "importance": "2",
        "typicalDepth": "20-40cm wind slab on lee aspects",
        "comment": "Wind slabs from strong south winds at ridge tops. Fresh loading on north and east aspects. Typical depth 20-40cm.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "state": "IN_REVIEW"
      }
    ],
    "hazardRatings": [
      {
        "elevationBand": "Alpine",
        "hazardRating": "3",
        "confidence": "High",
        "stabilityRating": "Poor",
        "stabilityConfidence": "High",
        "hazardConfidence": "High",
        "comment": "Considerable hazard due to storm and wind slabs. Avoid steep wind-loaded slopes.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      },
      {
        "elevationBand": "Treeline",
        "hazardRating": "2",
        "confidence": "High",
        "stabilityRating": "Fair",
        "stabilityConfidence": "High",
        "hazardConfidence": "High",
        "comment": "Considerable hazard due to storm and wind slabs. Avoid steep wind-loaded slopes.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      },
      {
        "elevationBand": "Below Treeline",
        "hazardRating": "2",
        "confidence": "High",
        "stabilityRating": "Fair",
        "stabilityConfidence": "High",
        "hazardConfidence": "High",
        "comment": "Considerable hazard due to storm and wind slabs. Avoid steep wind-loaded slopes.",
        "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
        "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
        "obDate": "10/07/2025",
        "state": "IN_REVIEW"
      }
    ],
    "locationUUIDs": ["fe206d0d-c886-47c3-8ac6-b85d6b3c45c9"],
    "operationUUID": "4a9c17c0-e86b-4124-9a94-db8fbcd81d7c",
    "state": "IN_REVIEW",
    "shareLevel": "PRIVATE"
  },

  "_hazard_chart_calculation_algorithm": {
    "description": "Complete algorithm for calculating hazard chart coordinates based on Conceptual Model of Avalanche Hazard",
    
    "step_1_x_axis": {
      "description": "Convert avalanche size to X-axis coordinate",
      "formula": "(size_number - 1) * 2",
      "mapping": {
        "Size1": "X = 0", "Size15": "X = 1", "Size2": "X = 2", "Size25": "X = 3", 
        "Size3": "X = 4", "Size35": "X = 5", "Size4": "X = 6", "Size45": "X = 7", "Size5": "X = 8"
      }
    },
    
    "step_2_y_axis": {
      "description": "Calculate likelihood from Distribution + Sensitivity matrix",
      "likelihood_values": {
        "Unlikely": 0, "Possible": 2, "Likely": 4, "Very Likely": 6, "Almost Certain": 8
      },
      "matrix_lookup": {
        "Widespread": {
          "Unreactive": "Unlikely (0)", "Stubborn": "Possible (2)", 
          "Reactive": "Possible (2)", "Touchy": "Likely (4)"
        },
        "Specific": {
          "Unreactive": "Unlikely (0)", "Stubborn": "Possible (2)",
          "Reactive": "Likely (4)", "Touchy": "Very Likely (6)"
        },
        "Isolated": {
          "Unreactive": "Unlikely (0)", "Stubborn": "Unlikely (0)",
          "Reactive": "Possible (2)", "Touchy": "Likely (4)"
        }
      }
    },
    
    "step_3_uncertainty": {
      "description": "Apply confidence level to create uncertainty ranges",
      "confidence_mapping": {
        "High": "min = max = typical (single point)",
        "Moderate": "min = typical - 1, max = typical + 1", 
        "Low": "min = typical - 2, max = typical + 2"
      }
    },
    
    "example_calculations": {
      "storm_slab_example": {
        "inputs": {
          "typicalSize": "Size15",
          "distribution": "Specific", 
          "sensitivity": "Reactive",
          "confidence": "Moderate"
        },
        "calculation": {
          "x_axis": "Size15 → (1.5-1)*2 = 1",
          "y_axis": "Specific + Reactive → Likely → 4",
          "uncertainty": "Moderate confidence → ±1 unit range"
        },
        "result": "{\"x\":{\"typical\":1,\"min\":0,\"max\":2},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}"
      },
      "wind_slab_example": {
        "inputs": {
          "typicalSize": "Size15",
          "distribution": "Specific",
          "sensitivity": "Reactive", 
          "confidence": "Moderate",
          "position_offset": "Slightly different X position for visual separation"
        },
        "calculation": {
          "x_axis": "Size15 → 1, offset to 2 for separation",
          "y_axis": "Specific + Reactive → Likely → 4",
          "uncertainty": "Moderate confidence → ±1 unit range"
        },
        "result": "{\"x\":{\"typical\":2,\"min\":1,\"max\":3},\"y\":{\"typical\":4,\"min\":3,\"max\":5}}"
      }
    },
    
    "_ui_field_requirements": {
      "required_fields_from_ui": [
        "Location of Problem (aspect/elevation rose)",
        "Failure Plane(s) - dropdown with Non-persistent option", 
        "Distribution - dropdown (Isolated/Specific/Widespread)",
        "Sensitivity - dropdown (Unreactive/Stubborn/Reactive/Touchy)",
        "Typical Size - dropdown (Size1 through Size5 with half-sizes)"
      ],
      "optional_fields_from_ui": [
        "Typical Depth Min/Max - numeric input in cm",
        "Comments - text area with 4096 character limit"
      ],
      "ui_validation_notes": "Red asterisks (*) in UI indicate required fields. Hazard Chart is auto-calculated from Distribution + Sensitivity + Size inputs."
    }
  }
}
